<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Loginform.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.1/axios.min.js"></script>
    <title>Document</title>
</head>
<body>
    <div class="Loginform">
        <h1>Login form</h1>
        <form id="loginForm">
            <label>Email:-</label>
            <input type="email" id="Email" name="email" placeholder="Enter your email" required><br>
            <label>Password:-</label>
            <input type="password" id="Password" name="password" placeholder="Enter your password" required><br>
            <div class="button"><button type="submit" id="Login">Login</button></div>
        </form>
        <h2>Don't have an account? <a href="index.html">Register</a></h2>          
    </div>
    <hr>
        
    <script>
        let msg = document.getElementById("msg");
        let logo = document.getElementById("logo");
        let Login=document.getElementById("Login")
        let data = [];

        async function getData() {
            try {
                let res = await axios.get("https://renderserver-2-vqfy.onrender.com/Registerdata");
                data = res.data;
            } catch (error) {
                console.log("Error:", error);
            }
        }
        getData();
        Login.addEventListener("click", function(e) {
            e.preventDefault();
            loginUser();
        });


        function loginUser() {
            let userDetails = {
                Email: document.getElementById("Email").value,
                Password: document.getElementById("Password").value
            };

            let value = data.find((user) =>
                user.Email === userDetails.Email &&
                user.Password === userDetails.Password
            );

            if (value) {
                alert("Login Done");
                window.location.href="Home.html"
                // msg.innerText = "Login Done";
                // msg.style.color = "green";
                // logo.innerText = value.Email;
            } else {
                msg.innerText="Details not found";
                msg.style.color="red";
            }
        }
    </script>
</body>
</html>


</script>
</html>